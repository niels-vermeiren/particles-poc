class Vector{constructor(t,e){this.x=t,this.y=e}get X(){return this.x}get Y(){return this.y}}class Particle{constructor(t,e,a,r,i){this.x=t,this.y=e,this.radius=a,this.color=r,this.vector=i}get X(){return this.x}get Y(){return this.y}update(){this.x+=this.vector.X,this.y+=this.vector.Y}draw(){ctx.beginPath(),ctx.fillStyle=this.color,ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),ctx.closePath(),ctx.fill()}}class ParticleManager{constructor(){this.particles=[],this.mouseX=-1,this.mouseY=-1}createNew(){const t=Math.random()*canvas.width,e=Math.random()*canvas.height+1;let a=1*Math.random()+.7,r=1*Math.random()+.7;a=1==Math.floor(2*Math.random())?a:-a,r=1==Math.floor(2*Math.random())?a:-a;let i=new Vector(a,r),s=3*Math.random(),c=new Particle(t,e,s,"rgba("+color.r+","+color.g+","+color.b+", 1)",i);this.addParticle(c)}addParticle(t){this.particles.length<amount&&this.particles.push(t)}reset(){this.particles=[]}update(){let t=0;for(;t!=this.particles.length;){let e=this.particles[t],a=e.X<0||e.X>canvas.width,r=e.Y<0||e.Y>canvas.height;e.update(),a||r?this.particles.splice(t,1):t++}}draw(){this.particles.forEach(t=>{t.draw(),this.particles.forEach(e=>{const a=Math.sqrt(Math.pow(t.X-e.X,2)+Math.pow(t.Y-e.Y,2));let r=canvas.offsetWidth>canvas.height?canvas.width/8:canvas.height/7;if(a<r){ctx.beginPath();var i=Math.abs(a/r-1);ctx.strokeStyle="rgba("+color.r+","+color.g+","+color.b+", "+i+")",ctx.moveTo(t.X,t.Y),ctx.lineTo(e.X,e.Y),ctx.stroke()}})})}}function resize(){canvas.width=$(".particles").width(),canvas.height=$(".particles").height(),pm.reset()}function hexToRgb(t){return{r:"0x"+t[1]+t[2]|0,g:"0x"+t[3]+t[4]|0,b:"0x"+t[5]+t[6]|0}}function fitToContainer(t){t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight}var canvas=document.createElement("canvas"),particlesElement=document.getElementsByClassName("particles")[0];fitToContainer(canvas);const ctx=canvas.getContext("2d");particlesElement.appendChild(canvas);const backgroundColor=particlesElement.getAttribute("background-color"),amount=particlesElement.getAttribute("amount"),color=hexToRgb(particlesElement.getAttribute("color"));let pm=new ParticleManager;resize(),$(document).ready(function(){$(window).on("resize",function(){resize()})}),setInterval(function(){pm.createNew(),ctx.fillStyle=backgroundColor,ctx.fillRect(0,0,canvas.width,canvas.height),pm.update(),pm.draw()},50);